# ==========================
# TMUX Configuration
# ==========================

# Change prefix from Ctrl+b to Ctrl+a (easier to type)
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# ==========================
# Window Management
# ==========================

# Ctrl+a then Tab - Next window
bind Tab next-window

# Ctrl+a then Shift+Tab - Previous window
bind BTab previous-window

# Ctrl+a then n - New window
bind n new-window -c "#{pane_current_path}"

# Ctrl+a then q - Close window
bind q confirm-before -p "Kill window #W? (y/n)" kill-window

# Ctrl+a then number (0-9) - Go to window number
bind 0 select-window -t :0
bind 1 select-window -t :1
bind 2 select-window -t :2
bind 3 select-window -t :3
bind 4 select-window -t :4
bind 5 select-window -t :5
bind 6 select-window -t :6
bind 7 select-window -t :7
bind 8 select-window -t :8
bind 9 select-window -t :9

# ==========================
# Pane Management (splits)
# ==========================

# Ctrl+a then | - Split vertically
bind | split-window -h -c "#{pane_current_path}"

# Ctrl+a then - - Split horizontally
bind - split-window -v -c "#{pane_current_path}"

# Ctrl+a then x - Close pane
bind x confirm-before -p "Kill pane? (y/n)" kill-pane

# Navigate panes with Alt+Arrows (NO PREFIX NEEDED!)
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# ==========================
# Other Settings
# ==========================

# Ctrl+a then r - Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Enable mouse support
set -g mouse on

# Auto resize and rename
setw -g automatic-rename on
setw -g aggressive-resize on

# Start window numbering at 1 (easier to reach)
set -g base-index 1
set -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Increase scrollback buffer
set -g history-limit 10000

# No delay for escape key
set -sg escape-time 0

# True color support - fix for Powerlevel10k width issues
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Better wrapping behavior
set -g wrap-search off

# ==========================
# Status Bar
# ==========================

# Status bar colors
set -g status-style bg=colour235,fg=colour255

# Current window highlight
set -g window-status-current-style bg=colour39,fg=colour235,bold

# Status bar position
set -g status-position bottom

# Status bar content
set -g status-left "[#S] "
set -g status-right "%H:%M %d-%b-%y "
